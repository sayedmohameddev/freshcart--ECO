import './polyfills.server.mjs';
import{a as k}from"./chunk-WSF6HVNA.mjs";import{a as y}from"./chunk-HQJU4LVT.mjs";import"./chunk-GTSSCL6B.mjs";import{a as T}from"./chunk-DE5OUPQD.mjs";import"./chunk-EDOPUDTE.mjs";import"./chunk-V443I64Y.mjs";import"./chunk-YJATQK5N.mjs";import{$ as x,Fb as c,Hb as _,La as b,Mb as W,Pa as l,X as d,gb as w,ja as h,ka as f,mb as C,nb as g,ob as o,pb as n,qb as u,tb as S,xb as p,yb as v}from"./chunk-Z7GZ3Q2P.mjs";import{a as F}from"./chunk-FDOB7Q2K.mjs";import{g as E}from"./chunk-VVCT4QZE.mjs";var m=E(F());var B=(r,i)=>i.id;function D(r,i){if(r&1){let a=S();o(0,"div",2)(1,"div",3)(2,"div"),u(3,"img",4),n()(),o(4,"div",5)(5,"div")(6,"h3",6),c(7),n(),o(8,"p",7),c(9),n(),o(10,"button",8),p("click",function(){let e=h(a).$implicit,s=v();return f(s.confirmBox(e.id))}),u(11,"i",9),c(12,"remove"),n()(),o(13,"div",10)(14,"button",11),p("click",function(){let e=h(a).$implicit,s=v();return f(s.addcart(e.id))}),c(15,"Add To Cart"),n()()()()}if(r&2){let a=i.$implicit;l(3),w("src",a.imageCover,b),l(4),_(" ",a.title," "),l(2),_(" price: ",a.price,"")}}var M=(()=>{let i=class i{constructor(){this._WishlistService=d(k),this._CartService=d(T),this._ToastrService=d(y),this.WishList=[],this.wishlist=[]}ngOnInit(){this._WishlistService.getproducToWishList().subscribe({next:t=>{console.log(t.data),this.WishList=t.data}})}addcart(t){this._CartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart"),this._CartService.CartNumber.set(e.numOfCartItems)}})}removeitemfromWishlist(t){this._WishlistService.deleteitemfromWishList(t).subscribe({next:e=>{console.log(e),this.wishlist=e.data;let s=this.WishList.filter(L=>this.wishlist.includes(L._id));this.WishList=s}})}confirmBox(t){m.default.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(e=>{e.value?(m.default.fire("Deleted!","Your imaginary file has been deleted.","success"),this.removeitemfromWishlist(t)):e.dismiss===m.default.DismissReason.cancel&&m.default.fire("Cancelled","Your imaginary file is safe :)","error")})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=x({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[W],decls:5,vars:0,consts:[[1,"bg-main-light","shadow","rounded-4","mx-auto","w-75","p-4","my-5"],[1,"fa-2xl","my-5"],[1,"row","mb-2","border-bottom"],[1,"col-md-2"],["alt","",1,"w-100",3,"src"],[1,"col-md-10","d-flex","align-items-center","justify-content-between"],[1,"h5"],[1,"m-0","text-main"],[1,"text-danger","btn","p-0","cr","my-2",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-info",3,"click"]],template:function(e,s){e&1&&(o(0,"section",0)(1,"h2",1),c(2," wish List"),n(),C(3,D,16,3,"div",2,B),n()),e&2&&(l(3),g(s.WishList))}});let r=i;return r})();export{M as WishlistComponent};
