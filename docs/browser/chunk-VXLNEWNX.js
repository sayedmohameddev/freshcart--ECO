import{a as y}from"./chunk-DRZEY6VU.js";import{a as T,b as g,c as L,d as F,h as N,i as A,j as R,k,m as q}from"./chunk-EN3TMZMY.js";import{c as w,d as b}from"./chunk-32RMYXYN.js";import"./chunk-6AUBK3KX.js";import"./chunk-H455QME5.js";import{Cb as r,Db as S,Jb as x,Ma as m,X as _,_ as v,bb as s,db as C,hb as d,lb as i,mb as t,nb as u,ub as E,vb as h}from"./chunk-EFTTM5UD.js";import"./chunk-CWTPBX7D.js";function D(e,n){e&1&&(i(0,"p",14),r(1,"Email Is Required"),t())}function V(e,n){e&1&&(i(0,"p",14),r(1,"Enter Valid Email"),t())}function G(e,n){if(e&1&&(i(0,"div",7),s(1,D,2,0,"p",14)(2,V,2,0),t()),e&2){let l,o=h();m(),d(1,(l=o.loginform.get("email"))!=null&&l.getError("required")?1:(l=o.loginform.get("email"))!=null&&l.getError("email")?2:-1)}}function I(e,n){e&1&&(i(0,"p",14),r(1,"password Is Required"),t())}function M(e,n){e&1&&(i(0,"p",14),r(1,"Enter Valid password"),t())}function j(e,n){if(e&1&&(i(0,"div",7),s(1,I,2,0,"p",14)(2,M,2,0),t()),e&2){let l,o=h();m(),d(1,(l=o.loginform.get("password"))!=null&&l.getError("required")?1:(l=o.loginform.get("password"))!=null&&l.getError("pattern")?2:-1)}}function B(e,n){e&1&&(i(0,"span"),u(1,"i",15),t())}function P(e,n){if(e&1&&(i(0,"p",13),r(1),t()),e&2){let l=h();m(),S(l.msgError)}}var Q=(()=>{let n=class n{constructor(){this._AuthService=_(y),this._FormBuilder=_(k),this._Router=_(w),this.msgError="",this.isloading=!1,this.loginform=this._FormBuilder.group({email:[null,[g.required,g.email]],password:[null,[g.required,g.pattern(/^\w{6,}$/)]]})}loginSubmit(){this.loginform.valid?(this.isloading=!0,this._AuthService.setloginform(this.loginform.value).subscribe({next:o=>{console.log(o),o.message=="success"&&(localStorage.setItem("userToken",o.token),this._AuthService.SaveUserData(),this._Router.navigate(["/home"])),this.isloading=!1},error:o=>{this.msgError=o.error.message,console.log(o),this.isloading=!1}})):(this.loginform.setErrors({mismatch:!0}),this.loginform.markAllAsTouched())}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[x],decls:22,vars:6,consts:[[1,"bg-main-light","p-2","m-2","shadow","rounded-4","z-3"],["src","../assets/images/3094352.jpg","alt","","srcset","",1,"img","img","w-75","text-center","h-200"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"alert","alert-danger","w-50"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","gap-4"],["routerLink","/forgot",1,"link-primary"],["type","submit",1,"btn-main",3,"disabled"],[1,"alert","alert-danger","w-50","m-0"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(c,a){if(c&1&&(i(0,"section",0),u(1,"img",1),i(2,"h1",2),r(3,"login Now:"),t(),i(4,"form",3),E("ngSubmit",function(){return a.loginSubmit()}),i(5,"div",4)(6,"label",5),r(7,"email"),t(),u(8,"input",6),s(9,G,3,1,"div",7),t(),i(10,"div",4)(11,"label",8),r(12,"password"),t(),u(13,"input",9),s(14,j,3,1,"div",7),t(),i(15,"div",10)(16,"a",11),r(17,"Forgot Pssword ?"),t(),i(18,"button",12),r(19,"login "),s(20,B,2,0,"span"),t()(),s(21,P,2,1,"p",13),t()()),c&2){let p,f;m(4),C("formGroup",a.loginform),m(5),d(9,(p=a.loginform.get("email"))!=null&&p.errors&&((p=a.loginform.get("email"))!=null&&p.touched)?9:-1),m(5),d(14,(f=a.loginform.get("password"))!=null&&f.errors&&((f=a.loginform.get("password"))!=null&&f.touched)?14:-1),m(4),C("disabled",a.loginform.invalid||a.isloading),m(2),d(20,a.isloading?20:-1),m(),d(21,a.msgError?21:-1)}},dependencies:[q,N,T,L,F,A,R,b],styles:[".img[_ngcontent-%COMP%]{width:100%;height:500px}"]});let e=n;return e})();export{Q as LoginComponent};
