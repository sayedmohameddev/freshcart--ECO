import{a as N}from"./chunk-DRZEY6VU.js";import{a as q,b as p,c as y,d as P,h as F,i as A,j as V,k as D,m as I}from"./chunk-EN3TMZMY.js";import{c as T}from"./chunk-32RMYXYN.js";import"./chunk-6AUBK3KX.js";import"./chunk-H455QME5.js";import{Cb as l,Db as R,Jb as b,Ma as m,X as E,_ as v,bb as s,db as S,hb as d,lb as i,mb as t,nb as u,ub as w,vb as g}from"./chunk-EFTTM5UD.js";import"./chunk-CWTPBX7D.js";function G(e,o){e&1&&(i(0,"p",18),l(1,"Name Is Required"),t())}function M(e,o){e&1&&(i(0,"p",18),l(1,"Name Should be more than or equal 3 chars"),t())}function B(e,o){e&1&&(i(0,"p",18),l(1,"Name Should be less than or equal 20 chars"),t())}function k(e,o){if(e&1&&(i(0,"div",7),s(1,G,2,0,"p",18)(2,M,2,0)(3,B,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("name"))!=null&&n.getError("required")?1:(n=r.registerform.get("name"))!=null&&n.getError("minlength")?2:(n=r.registerform.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function L(e,o){e&1&&(i(0,"p",18),l(1,"Email Is Required"),t())}function O(e,o){e&1&&(i(0,"p",18),l(1,"Enter Valid Email"),t())}function $(e,o){if(e&1&&(i(0,"div",7),s(1,L,2,0,"p",18)(2,O,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("email"))!=null&&n.getError("required")?1:(n=r.registerform.get("email"))!=null&&n.getError("email")?2:-1)}}function j(e,o){e&1&&(i(0,"p",18),l(1,"phone Is Required"),t())}function z(e,o){e&1&&(i(0,"p",18),l(1,"Enter Valid phone"),t())}function H(e,o){if(e&1&&(i(0,"div",7),s(1,j,2,0,"p",18)(2,z,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("phone"))!=null&&n.getError("required")?1:(n=r.registerform.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function J(e,o){e&1&&(i(0,"p",18),l(1,"password Is Required"),t())}function K(e,o){e&1&&(i(0,"p",18),l(1,"Enter Valid password"),t())}function Q(e,o){if(e&1&&(i(0,"div",7),s(1,J,2,0,"p",18)(2,K,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("password"))!=null&&n.getError("required")?1:(n=r.registerform.get("password"))!=null&&n.getError("pattern")?2:-1)}}function U(e,o){e&1&&(i(0,"p",16),l(1,"Password confirmation is incorrect"),t())}function W(e,o){e&1&&(i(0,"span"),u(1,"i",19),t())}function X(e,o){if(e&1&&(i(0,"p",16),l(1),t()),e&2){let n=g();m(),R(n.msgError)}}var oe=(()=>{let o=class o{constructor(){this._AuthService=E(N),this._FormBuilder=E(D),this._Router=E(T),this.msgError="",this.isloading=!1,this.registerform=this._FormBuilder.group({name:[null,[p.required,p.minLength(3),p.maxLength(20)]],email:[null,[p.required,p.email]],password:[null,[p.required,p.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword})}confirmPassword(r){return r.get("password")?.value===r.get("rePassword")?.value?null:{mismatch:!0}}registerSubmit(){this.registerform.valid?(this.isloading=!0,this.registerSub=this._AuthService.setregisterform(this.registerform.value).subscribe({next:r=>{console.log(r),r.message=="success"&&this._Router.navigate(["/login"]),this.isloading=!1},error:r=>{this.msgError=r.error.message,console.log(r),this.isloading=!1}})):(this.registerform.setErrors({mismatch:!0}),this.registerform.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe()}};o.\u0275fac=function(f){return new(f||o)},o.\u0275cmp=v({type:o,selectors:[["app-register"]],standalone:!0,features:[b],decls:35,vars:8,consts:[["src","../../../assets/images/12085707_20944201.svg","alt","","srcset","",1,"img","w-50"],[1,"bg-main-light","p-2","m-2","shadow","rounded-4","my-5"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[1,"alert","alert-danger","w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],[1,"alert","alert-danger","w-50","m-0"],[1,"btn-main","ms-auto","d-block"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(f,a){if(f&1&&(i(0,"div"),u(1,"img",0),i(2,"section",1)(3,"h1",2),l(4,"Register Now:"),t(),i(5,"form",3),w("ngSubmit",function(){return a.registerSubmit()}),i(6,"div",4)(7,"label",5),l(8,"Name"),t(),u(9,"input",6),s(10,k,4,1,"div",7),t(),i(11,"div",4)(12,"label",8),l(13,"Email"),t(),u(14,"input",9),s(15,$,3,1,"div",7),t(),i(16,"div",4)(17,"label",10),l(18,"Phone"),t(),u(19,"input",11),s(20,H,3,1,"div",7),t(),i(21,"div",4)(22,"label",12),l(23,"Password"),t(),u(24,"input",13),s(25,Q,3,1,"div",7),t(),i(26,"div",4)(27,"label",14),l(28,"RePassword"),t(),u(29,"input",15),s(30,U,2,0,"p",16),t(),i(31,"button",17),l(32,"Register "),s(33,W,2,0,"span"),t(),s(34,X,2,1,"p",16),t()()()),f&2){let c,_,h,C,x;m(5),S("formGroup",a.registerform),m(5),d(10,(c=a.registerform.get("name"))!=null&&c.errors&&((c=a.registerform.get("name"))!=null&&c.touched)?10:-1),m(5),d(15,(_=a.registerform.get("email"))!=null&&_.errors&&((_=a.registerform.get("email"))!=null&&_.touched)?15:-1),m(5),d(20,(h=a.registerform.get("phone"))!=null&&h.errors&&((h=a.registerform.get("phone"))!=null&&h.touched)?20:-1),m(5),d(25,(C=a.registerform.get("password"))!=null&&C.errors&&((C=a.registerform.get("password"))!=null&&C.touched)?25:-1),m(5),d(30,a.registerform.getError("mismatch")&&((x=a.registerform.get("rePassword"))!=null&&x.touched)?30:-1),m(3),d(33,a.isloading?33:-1),m(),d(34,a.msgError?34:-1)}},dependencies:[I,F,q,y,P,A,V],styles:[".img[_ngcontent-%COMP%]{width:90%;height:450px}"]});let e=o;return e})();export{oe as RegisterComponent};
